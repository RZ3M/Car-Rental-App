<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>Create Your Reservation</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">Car Rental App</ion-title>
    </ion-toolbar>
  </ion-header>

  <div id="container">
    <h1>Jack's Car Rental Form</h1>
    <form #reservation="ngForm">
      <div id="lbl_error" *ngIf="error">
        <label>Please fix these issues with your form: </label>
        <ul>
          <li *ngIf="selectedCar == 'default'">
            Car Type: You must select a car type!
          </li>
          <li *ngIf="!validatePastDate() && resDate != '' && validateDate()">
            Reservation Date: Date must be today or in the future!
          </li>
          <li *ngIf="!validateDate()">
            Reservation Date: You must enter a valid date!
          </li>
          <li *ngIf="resoHours.invalid">
            Hours: You must enter a value between 1-96!
          </li>
        </ul>
      </div>

      <label>What type of car?</label>
      <select
        [(ngModel)]="selectedCar"
        name="selectedCar"
        (ngModelChange)="onFormChange()"
      >
        <option value="default" disabled>Select a vehicle type</option>
        <option *ngFor="let car of carTypes" [value]="car.type">
          {{car.type}}
        </option>
      </select>

      <label>Enter the reservation date</label>
      <input
        id="txt_reserveDate"
        type="date"
        [(ngModel)]="resDate"
        name="resoDate"
        required
        (change)="validateDate"
        (ngModelChange)="onFormChange()"
      />

      <label>Enter the number of hours:</label>
      <input
        id="num_hrs"
        type="number"
        step="1"
        [(ngModel)]="resHours"
        name="resoHours"
        (ngModelChange)="onFormChange()"
        #resoHours="ngModel"
        min="1"
        max="96"
      />

      <div>
        <label>Do you need a car seat?</label>
        <input type="checkbox" [(ngModel)]="carSeat" name="carSeat" />
      </div>

      <div id="form-buttons">
        <button (click)="onSubmit()">RESERVE</button>
        <button (click)="resetForm()">RESET</button>
      </div>
    </form>
  </div>
</ion-content>
